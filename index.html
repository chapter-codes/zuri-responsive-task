<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn to code</title>
   <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="shortcut icon" href="./favicon-32x32.png" type="image/x-icon">
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <main>
    
        <section class="intro">
            <h1>Learn to code by watching others</h1>
     <p class="msg">See how experienced developers solve problems in real-time. Watching scripted tutorials is great, but understanding how developers think is invaluable.</p>

        </section>
  
        <section class="form">
            <div class="highlight">
                <p><span>Try it free 7 days </span> then $20/mo. thereafter</p>
            </div>
            <form action="POST">
                <div>
                <i><img src="./icon-error.svg" alt=""></i>
                <input type="text" placeholder="First Name" required>      
                <p class="helpertext">First Name can not be empty</p>              
                </div>
                <div>
                    <i><img src="./icon-error.svg" alt="error-icon"></i>
                    <input type="text" placeholder="Last Name" required>
                    <p class="helpertext">Last Name can not be empty</p> 
                </div>
                <div>
                    <i><img src="./icon-error.svg" alt="error-icon"></i>
                    <input type="email" placeholder="Email Address" required>
                    <p class="helpertext">Looks like this is not an email</p> 
                </div>
               <div>
                <i><img src="./icon-error.svg" alt="error-icon"></i>
                <input type="password" placeholder="Password" required>
                <p class="helpertext">Password can not be empty</p> 
               </div>
               
                <button type='submit' >CLAIM YOUR FREE TRIAL</button>
                <p class="terms">By clicking the button you are agreeing to our <span>Terms and Services</span></p>
    
            </form>
        </section>
  
    </main>
    <script>
        'use strict'

        document.querySelector('button').addEventListener('click', handleError)
       
                 
        const formInputs = document.querySelectorAll('input')

        function handleError(event){


            formInputs.forEach(input=>{
               
                if(!input.value){
                    input.parentElement.classList.add('error')
                    const icon=input.previousElementSibling,
                    helpertext=input.nextElementSibling;

                    input.style.borderColor='red'

                    if(!icon.classList.contains('open') && !helpertext.classList.contains('open') ){
                        icon.classList.add('open')
                        helpertext.classList.add('open')
                    }
                    
                    if(input.type=='email'){
                        input.parentElement.classList.add('error')
                        input.placeholder="email@example/com"
                       
                    }
                }
           
            })

            event.preventDefault()
        }



        formInputs.forEach(input=>{
            input.addEventListener('keydown', handleChange)
        })


        function handleChange(event){

            if(this.parentElement.classList.contains('error')){

                this.parentElement.classList.remove('error')
                console.log(this.parentElement)
                this.style.borderColor='grey'
                this.nextElementSibling.classList.remove('open')
                this.previousElementSibling.classList.remove('open')

                if(this.type=='email'){
                    this.placeholder='Email'
                }
            }
         
        }
    </script>
</body>
</html>